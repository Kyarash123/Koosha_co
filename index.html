<!doctype html>
<html lang="fa" dir="rtl">
<head>
    <link rel="icon" href="./koosha-co-logo.png" type="image/png">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Koosha co</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="/_sdk/element_sdk.js"></script>
  <!-- ุงุถุงูู ฺฉุฑุฏู html2canvas ุจุฑุง ฺฏุฑูุชู ุงุณฺฉุฑูโุดุงุช -->
  <script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>
  <!-- ุงุถุงูู ฺฉุฑุฏู ูููุช ุจู ุตูุฑุช ูุญู -->
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Vazirmatn:wght@300;400;500;600;700;800&display=swap">
  <style>
    body {
      box-sizing: border-box;
      font-family: 'Vazirmatn', sans-serif;
    }
    
    * {
      font-family: 'Vazirmatn', sans-serif;
    }
    
    .fade-in {
      animation: fadeIn 0.6s ease-in;
    }
    
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(15px); }
      to { opacity: 1; transform: translateY(0); }
    }
    
    .card-hover {
      transition: all 0.35s cubic-bezier(0.4, 0, 0.2, 1);
    }
    
    .card-hover:hover {
      transform: translateY(-6px);
      box-shadow: 0 20px 40px rgba(0, 20, 94, 0.4);
    }

    .instagram-gradient {
      background: linear-gradient(45deg, #486878 25%, #7591a2 50%, #3e6fb4 75%, #00a0b0 100%);
    }

    .pulse-animation {
      animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.7; }
    }

    /* ุงุณุชุงูโูุง ุฌุฏุฏ ุจุฑุง ุฏุงูููุฏ ุชุตูุฑ */
    .copy-notification {
      position: fixed;
      bottom: 30px;
      left: 50%;
      transform: translateX(-50%);
      background: #10b981;
      color: white;
      padding: 12px 24px;
      border-radius: 12px;
      box-shadow: 0 10px 25px rgba(16, 185, 129, 0.3);
      z-index: 1001;
      animation: slideUp 0.3s ease-out;
    }

    @keyframes slideUp {
      from {
        opacity: 0;
        transform: translate(-50%, 20px);
      }
      to {
        opacity: 1;
        transform: translate(-50%, 0);
      }
    }

    .loading-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(255, 255, 255, 0.9);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 1002;
      backdrop-filter: blur(5px);
    }

    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 4px solid #f3f3f3;
      border-top: 4px solid #00a0b0;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin-bottom: 20px;
    }

    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* ุงุณุชุงูโูุง ุซุงุจุช ุจุฑุง html2canvas */
    .image-container {
      width: 1000px !important;
      background: #ffffff !important;
      padding: 40px !important;
      font-family: 'Vazirmatn', sans-serif !important;
      direction: rtl !important;
    }

    .image-card {
      background: #ffffff !important;
      border: 2px solid #050120 !important;
      border-radius: 24px !important;
      padding: 24px !important;
      margin-bottom: 20px !important;
      font-family: 'Vazirmatn', sans-serif !important;
    }

    .image-header {
      background: linear-gradient(45deg, #486878 25%, #7591a2 50%, #3e6fb4 75%, #00a0b0 100%) !important;
      color: white !important;
      padding: 20px !important;
      border-radius: 16px !important;
      text-align: center !important;
      margin-bottom: 30px !important;
      font-family: 'Vazirmatn', sans-serif !important;
    }

    .image-title {
      font-size: 24px !important;
      font-weight: bold !important;
      margin-bottom: 10px !important;
      font-family: 'Vazirmatn', sans-serif !important;
    }

    .image-subtitle {
      font-size: 16px !important;
      opacity: 0.9 !important;
      font-family: 'Vazirmatn', sans-serif !important;
    }
  </style>
  <style>@view-transition { navigation: auto; }</style>
  <script src="/_sdk/data_sdk.js" type="text/javascript"></script>
</head>
<body class="w-full min-h-full">
  <div id="app" class="w-full min-h-full"></div>

  <script>
    const defaultConfig = {
      app_title: "ฺฉูุดุง ฺฉููพุงู",
      login_password: "koosha",
      logo_text: "Koosha co",
      primary_color: "#00a0b0",
      secondary_color: "#FFFFFF",
      text_color: "#1A1A1A",
      accent_color: "#006b75",
      background_color: "#9ad8ed",
      font_family: "Vazirmatn",
      font_size: 16
    };

    let config = { ...defaultConfig };

    const contentStrategies = {
      "ุตูุงุน ุบุฐุง": {
        hooks: [
          "๐ฅ {number} ููุฑ ุงู ุฑุง ุงูุชุญุงู ฺฉุฑุฏูุฏ ู ูุชุฌู ุจุงูุฑูฺฉุฑุฏู ุจูุฏ",
          "โ ุงุดุชุจุงู ุดูุงุฑู ฺฉ ุฏุฑ {topic}",
          "โจ ุฑุงุฒ {topic} ฺฉู ฺฉุณ ููโฺฏูุฏ",
          "โฐ ููุท {number} ุฏููู ุชุง {result}",
          "๐ก ฺุฑุง {target_audience} ุนุงุดู ุงู ูุณุชูุฏุ",
          "๐ฏ {number} ุฑูุด ุจุฑุง {goal}",
          "โก ุงู ุชุฑููุฏ ุฒูุฏฺฏโุชุงู ุฑุง ุชุบุฑ ูโุฏูุฏ"
        ],
        content_types: [
          {
            name: "ุฏุณุชูุฑ_ูพุฎุช_ุณุฑุน",
            structure: "ููฺฉ ูุฏุฑุชููุฏ + ููุงุฏ ูุงุฒู + ูุฑุงุญู ุจู ุตูุฑุช ูุงูุจุฑุฏุงุฑ + ูฺฉุชู ุทูุง + CTA",
            best_day: "ฺูุงุฑุดูุจู",
            best_time: "19:00-21:00",
            cta: ["ุฏุณุชูุฑ ฺฉุงูู ุฏุฑ ุจุงู", "ุฐุฎุฑู ฺฉู ุชุง ฺฏู ูุดู", "ุจุฑุง ุฏูุณุชุงุช ุจูุฑุณุช"]
          },
          {
            name: "ูุจู_ู_ุจุนุฏ",
            structure: "ุชุตูุฑ ุฏุฑูุงุชฺฉ + ูุชุฌู ูุงุจู ููุณ + ูุฑุขูุฏ ฺฉูุชุงู + CTA ุงฺฉุดูโูุญูุฑ",
            best_day: "ฺฉุดูุจู",
            best_time: "12:00-14:00",
            cta: ["ูโุฎูุง ุงุฏ ุจฺฏุฑุ", "ููฺฉ ุฏุฑ ุจุงู", "ฺฉุงููุช ุจุฐุงุฑ ุจุฑุงุช ุจูุฑุณุชู"]
          },
          {
            name: "ูฺฉุชู_ุชุฎุตุต",
            structure: "ุงุดุชุจุงู ุฑุงุฌ + ุฑุงู ุญู ุญุฑููโุง + ฺุฑุง ุนูู + ูพุฑูู ุงุฌุชูุงุน",
            best_day: "ุดูุจู",
            best_time: "10:00-12:00",
            cta: ["ุณู ฺฉู ุจุฑุง ุจุนุฏ", "ุชฺฏ ฺฉู ฺฉุณ ฺฉู ูุงุฒ ุฏุงุฑู", "ูุธุฑุช ฺูุ"]
          },
          {
            name: "ูพุดุช_ุตุญูู",
            structure: "ูุญุธู ูุงูุน + ุฏุงุณุชุงู ูพุดุช ูุญุตูู + ุงุฑุฒุด ุงูุณุงู + ุงุญุณุงุณ",
            best_day: "ุฌูุนู",
            best_time: "16:00-18:00",
            cta: ["ุฏูุณุช ุฏุงุฑ ุจุดุชุฑ ุจุจูุ", "ฺฉุงููุช ฺฉู ๐ฅ", "ูุงูู ฺฉู ุจุฑุง ุจุดุชุฑ"]
          },
          {
            name: "ฺุงูุด_ุชุนุงูู",
            structure: "ุณูุงู ูุฌุงูโุงูฺฏุฒ + ฺฏุฒููโูุง ุฌุฐุงุจ + ูุธุฑุณูุฌ + ุฌุงุฒู ุงูฺฏุฒุด",
            best_day: "ุฏูุดูุจู",
            best_time: "20:00-22:00",
            cta: ["ูุธุฑุช ฺฉุฏูููุ ฺฉุงููุช ฺฉู", "ุฑุง ุจุฏู ู ุชฺฏ ฺฉู", "ุจุฑูุฏู ุฑู ุงุนูุงู ูโฺฉูู"]
          },
          {
            name: "ุงูููฺฏุฑุงูฺฉ_ุขููุฒุด",
            structure: "ุนููุงู ฺฉูุฏ + 3-5 ูฺฉุชู ูุฎุชุตุฑ + ุทุฑุงุญ ุฎูุงูุง + ุณูุฑุณ ูุงุจู ุงุนุชูุงุฏ",
            best_day: "ุณูโุดูุจู",
            best_time: "11:00-13:00",
            cta: ["ุฐุฎุฑู ฺฉู ุจุฑุง ูุฑุงุฌุนู", "ุงุดุชุฑุงฺฉ ุจุฐุงุฑ", "ุฏูุณุชุงุช ูุงุฒ ุฏุงุฑู"]
          },
          {
            name: "ูพุดููุงุฏ_ูฺู",
            structure: "ููุฑุช (ูุนุฏูุฏุช ุฒูุงู) + ุงุฑุฒุด (ุชุฎูู/ูุฏู) + ุงุนุชูุงุฏุณุงุฒ + CTA ูู",
            best_day: "ูพูุฌุดูุจู",
            best_time: "18:00-20:00",
            cta: ["ููฺฉ ุฏุฑ ุจุงู", "ุงูุงู ุณูุงุฑุด ุจุฏู", "ููุฌูุฏ ูุญุฏูุฏู"]
          }
        ],
        hashtag_strategy: {
          primary: ["ุตูุงุน_ุบุฐุง", "ุบุฐุง_ุฎุงูฺฏ", "ุขุดูพุฒ_ุงุฑุงู"],
          secondary: ["ุฏุณุชูุฑ_ูพุฎุช", "ูฺฉุงุช_ุขุดูพุฒ", "ุบุฐุง_ุณุงูู"],
          niche: []
        }
      },
      "ุณุงุฎุช ู ุณุงุฒ": {
        hooks: [
          "โ๏ธ ูุจู ุงุฒ ุดุฑูุน ุณุงุฎุช ุงู ุฑุง ุจุจูุฏ",
          "๐ฐ ฺฺฏููู {percentage}% ุฏุฑ {topic} ุตุฑููโุฌู ฺฉูุฏ",
          "๐๏ธ ุงุดุชุจุงูุงุช ูพุฑูุฒูู ุฏุฑ {topic}",
          "โ ฺฺฉโูุณุช {number} ูุฑุญููโุง ูุจู ุงุฒ {action}",
          "๐ ููุงุณู: {option1} ุง {option2}ุ",
          "๐ ูฺฉุงุช ฺฉู ูููุฏุณโูุง ููโฺฏููุฏ",
          "โฑ๏ธ ฺูุฏุฑ ุทูู ูโฺฉุดุฏ ุชุง {result}ุ"
        ],
        content_types: [
          {
            name: "ูุจู_ู_ุจุนุฏ_ูพุฑูฺู",
            structure: "ุชุตูุฑ ุชุญูู ฺุดูฺฏุฑ + ุฒูุงู ุงูุฌุงู + ูุฒูู ุชูุฑุจ + ฺุงูุดโูุง + ูฺฉุงุช ุงุฌุฑุง",
            best_day: "ฺฉุดูุจู",
            best_time: "09:00-11:00",
            cta: ["ูพุฑูฺู ุฏุงุฑุ ูุดุงูุฑู ุฑุงฺฏุงู", "ุณูุงู ุฏุงุฑ ุจูพุฑุณ", "ุชุฎูู ููุช ุฑุงฺฏุงู"]
          },
          {
            name: "ูฺฉุชู_ุชุฎุตุต_ุงูู",
            structure: "ุฎุทุฑ ุฑุงุฌ + ุนูุงูุจ + ุฑุงู ุญู ุงุณุชุงูุฏุงุฑุฏ + ุชุตูุฑ ูุณุชูุฏ",
            best_day: "ุดูุจู",
            best_time: "08:00-10:00",
            cta: ["ุจุฑุง ุงูู ุณู ฺฉู", "ุชูุช ุฑุง ุชฺฏ ฺฉู", "ูุธุฑ ุชุฎุตุต ูโุฎูุงุ"]
          },
          {
            name: "ุชุงู_ููพุณ_ูพุฑูฺู",
            structure: "ูุฏู ุชุงูโููพุณ ุฌุฐุงุจ + ุชูุถุญ ูุฑุขูุฏ + ูฺฉุงุช ุงุฌุฑุง + ุฒูุงู ูุงูุน",
            best_day: "ฺูุงุฑุดูุจู",
            best_time: "17:00-19:00",
            cta: ["ูพุฑูุณู ฺฉุงูู ุฏุฑ ูุชูุจ", "ุฏูุณุช ุฏุงุฑ ุจุจูุ ูุงูู ฺฉู", "ุณูุงู ุฏุงุฑ ุจูพุฑุณ"]
          },
          {
            name: "ููุงุณู_ูุตุงูุญ",
            structure: "ุฏู ฺฏุฒูู + ูุฒุงุง ู ูุนุงุจ + ููุช + ุชูุตู ุจุฑ ุงุณุงุณ ูุงุฒ + ุฌุฏูู ููุงุณู",
            best_day: "ุณูโุดูุจู",
            best_time: "10:00-12:00",
            cta: ["ฺฉุฏูู ุฑุง ุงูุชุฎุงุจ ูโฺฉูุ", "ูุงุฒ ุจู ูุดุงูุฑูุ DM ฺฉู", "ุฐุฎุฑู ฺฉู"]
          },
          {
            name: "ฺฺฉ_ูุณุช_ูุฑุญููโุง",
            structure: "ุนููุงู ูพุฑูฺู + ูุฑุงุญู ุดูุงุฑูโฺฏุฐุงุฑ ุดุฏู + ูฺฉุงุช ฺฉูุฏ ูุฑ ูุฑุญูู + ุฒูุงู ูุฑ ูุฑุญูู",
            best_day: "ุฏูุดูุจู",
            best_time: "11:00-13:00",
            cta: ["PDF ุฑุงฺฏุงู ุฏุฑ ุจุงู", "ฺุงูพ ฺฉู ู ุงุณุชูุงุฏู ฺฉู", "ุจุฑุง ุชูุช ุจูุฑุณุช"]
          },
          {
            name: "ุฑูุน_ุงุดฺฉุงู_ุฑุงุฌ",
            structure: "ูุดฺฉู ุฑุงุฌ + ุนูุช + ุฑุงู ุญู ูุฏูโุจูโูุฏู + ูพุดฺฏุฑ",
            best_day: "ูพูุฌุดูุจู",
            best_time: "14:00-16:00",
            cta: ["ูุดฺฉู ุฏุงุฑุ ุชูุถุญ ุจุฏู", "ุชูุช ูุงุฒ ุฏุงุฑู", "ุณู ฺฉู"]
          },
          {
            name: "ูุฒูู_ูุงูุน_ูพุฑูฺู",
            structure: "ููุน ูพุฑูฺู + ุฌุฏูู ูุฒูู ุดูุงู + ูุงฺฉุชูุฑูุง ุชุงุซุฑฺฏุฐุงุฑ + ูฺฉุงุช ุตุฑููโุฌู",
            best_day: "ุฌูุนู",
            best_time: "16:00-18:00",
            cta: ["ุจุฑุขูุฑุฏ ูพุฑูฺูโุงุช ุฑุงฺฏุงูู", "ููฺฉ ูุดุงูุฑู ุฏุฑ ุจุงู", "ุชุฎูู ูโุฎูุงุ"]
          }
        ],
        hashtag_strategy: {
          primary: ["ุณุงุฎุชูุงู", "ูุนูุงุฑ", "ุฏฺฉูุฑุงุณูู_ุฏุงุฎู"],
          secondary: ["ุจุงุฒุณุงุฒ", "ูููุฏุณ_ุนูุฑุงู", "ุทุฑุงุญ_ุฏุงุฎู"],
          niche: []
        }
      },
      "ุขููุฒุด ู ูุดุงูุฑู": {
        hooks: [
          "๐ {number} ููุฑ ุจุง ุงู ุฑูุด ูููู ุดุฏูุฏ",
          "๐ฏ ุฑุงู ฺฉู ฺฉุณ ุจูุช ูฺฏูุช",
          "โก ููุท {number} ุฏููู ุฑูุฒ ฺฉุงูู",
          "๐ซ ุชููู! ูุจู ุงุฒ {action} ุงู ุฑุง ุจุฎูุงู",
          "๐ ุงุฑุฒุด {value} ุฏูุงุฑุ ุงูุงู ุฑุงฺฏุงู",
          "๐ ฺฉูุฏ ููููุช ุฏุฑ {topic}",
          "๐ ฺุทูุฑ ูู ุงุฒ {start} ุจู {end} ุฑุณุฏู"
        ],
        content_types: [
          {
            name: "ฺฉุงุฑูุณู_ุขููุฒุด",
            structure: "ุงุณูุงุฏ 1: ููฺฉ ุชุงุซุฑฺฏุฐุงุฑ + ุงุณูุงุฏูุง 2-8: ูุญุชูุง ุงุฑุฒุดููุฏ ูุงูุจุฑุฏุงุฑ + ุงุณูุงุฏ ุขุฎุฑ: CTA ูู",
            best_day: "ุฏูุดูุจู",
            best_time: "10:00-12:00",
            cta: ["ุณู ฺฉู ุจุฑุง ูุทุงูุนู", "ุฏุงูููุฏ PDF ฺฉุงูู", "ุฏูุฑู ุฑุงฺฏุงู ุฏุฑ ุจุงู"]
          },
          {
            name: "ุฏุงุณุชุงู_ููููุช",
            structure: "ูุจู (ฺุงูุด) + ุฑููุฏ (ุฑุงูโุญู) + ุจุนุฏ (ูุชุฌู) + ุฏุฑุณ ุขููุฎุชู + ุงูฺฉุงู ุชฺฉุฑุงุฑ",
            best_day: "ฺูุงุฑุดูุจู",
            best_time: "19:00-21:00",
            cta: ["ุชู ูู ูโุชูู", "ุฏุงุณุชุงู ุชู ฺูุ", "ุดุฑูุน ฺฉู ุงุฒ ุงูุฑูุฒ"]
          },
          {
            name: "ูฺฉุชู_ุณุฑุน_60_ุซุงูู",
            structure: "ูุดฺฉู ุฑุงุฌ + ุฑุงูโุญู ฺฉโุฌูููโุง + ุชูุถุญ ฺฉูุชุงู + ูุชุฌู ูุงุจู ูพุดโุจู",
            best_day: "ุดูุจู",
            best_time: "12:00-14:00",
            cta: ["ุจุดุชุฑ ูโุฎูุงุ ูุงูู ฺฉู", "ุงูุชุญุงู ฺฉู ู ูุชุฌู ุจฺฏู", "ุณู ฺฉู"]
          },
          {
            name: "ููุงุณู_ุฑูุดโูุง",
            structure: "ุฑูุด ุบูุท ุฑุงุฌ + ฺุฑุง ฺฉุงุฑ ููโฺฉูุฏ + ุฑูุด ุตุญุญ + ูุซุงู ุนูู + ูุฏู ุงูู",
            best_day: "ุณูโุดูุจู",
            best_time: "15:00-17:00",
            cta: ["ฺฉุฏูู ุฑุง ุงูุชุญุงู ฺฉุฑุฏุ", "ูุธุฑุช ฺูุ", "ฺฏุงูโูุง ุจุนุฏ ุฏุฑ ุจุงู"]
          },
          {
            name: "ฺุงูุด_7_ุฑูุฒู",
            structure: "ูุฏู ฺุงูุด + ููุงูู ุณุงุฏู + ูุชุฌู ูุงุจู ุงูุชุธุงุฑ + ฺฺฏููฺฏ ุดุฑฺฉุช + ูพุงุฏุงุด",
            best_day: "ฺฉุดูุจู",
            best_time: "09:00-11:00",
            cta: ["ุดุฑูุน ูโฺฉูุ ฺฉุงููุช 'โ'", "ุชฺฏ ฺฉู ููุฑุงูุช", "ูุฑ ุฑูุฒ ฺฏุฒุงุฑุด ุจุฏู"]
          },
          {
            name: "ุณูุงู_ู_ุฌูุงุจ_ุฒูุฏู",
            structure: "ุณูุงูุงุช ูพุฑุชฺฉุฑุงุฑ + ูพุงุณุฎ ุชุฎุตุต + ูุซุงู ูุงูุน + ููุงุจุน ุจุดุชุฑ",
            best_day: "ูพูุฌุดูุจู",
            best_time: "18:00-20:00",
            cta: ["ุณูุงูุช ุฑุง ฺฉุงููุช ฺฉู", "ูุงู ุจุนุฏ ฺฉุ", "ุฌูุงุจ ูโุฎูุงุ DM ฺฉู"]
          },
          {
            name: "ููุงุจุน_ุฑุงฺฏุงู",
            structure: "ูุณุช ููุงุจุน ุงุฑุฒุดููุฏ + ุชูุถุญ ูุฑ ููุฑุฏ + ฺุฑุง ููุฏู + ููฺฉ ุฏุณุชุฑุณ",
            best_day: "ุฌูุนู",
            best_time: "16:00-18:00",
            cta: ["ุฏุงูููุฏ ุฑุงฺฏุงู ุงุฒ ุจุงู", "ุณู ฺฉู ฺฏู ูุดู", "ุจุฑุง ุฏูุณุชุงุช ุจูุฑุณุช"]
          }
        ],
        hashtag_strategy: {
          primary: ["ุขููุฒุด", "ุงุฏฺฏุฑ", "ุชูุณุนู_ูุฑุฏ"],
          secondary: ["ููุงุฑุช_ุขููุฒ", "ููููุช", "ฺฉูฺูฺฏ"],
          niche: []
        }
      },
      "ุฒุจุง ู ุณูุงูุช": {
        hooks: [
          "โจ {number} ุฑูุฒ + ุงู ุฑูุชู = ุชุญูู ฺฉุงูู",
          "โ ุงู ูุงุฏู ูพูุณุชุช ุฑุง ูุงุจูุฏ ูโฺฉูุฏ",
          "๐ ุฑุงุฒ {celebrity/expert} ุจุฑุง {benefit}",
          "โก ูุชุฌู ุงุฒ {timeframe} ุงูู",
          "๐ฌ ุนูู ูโฺฏูุฏ {fact}",
          "๐ {number} ูุงุฏู ุทุจุน ุจุฑุง {benefit}",
          "โฐ ุฑูุชู {time} ุฏูููโุง ูู"
        ],
        content_types: [
          {
            name: "ูุจู_ู_ุจุนุฏ_ูุงูุน",
            structure: "ุชุตูุฑ ุดูุงู + ุจุงุฒู ุฒูุงู ูุดุฎุต + ูุญุตููุงุช ุงุณุชูุงุฏู ุดุฏู + ุฑูุชู ุฏูู + ูฺฉุงุช ููู",
            best_day: "ฺฉุดูุจู",
            best_time: "19:00-21:00",
            cta: ["ูุญุตููุงุช ุฏุฑ ุจุงู", "ุณูุงู ุฏุงุฑ ุจูพุฑุณ", "ุชุฌุฑุจูโุงุช ุฑุง ุจฺฏู"]
          },
          {
            name: "ุฑูุชู_ูุฑุญูู_ุจู_ูุฑุญูู",
            structure: "ูุฏู ุฑูุชู + ูุฑุญูู 1 ุชุง 5 ุจุง ุชุตูุฑ + ุฒูุงู ูุฑ ูุฑุญูู + ูฺฉุงุช ุชฺฉูู",
            best_day: "ฺูุงุฑุดูุจู",
            best_time: "20:00-22:00",
            cta: ["ุณู ฺฉู ู ุงูุชุญุงู ฺฉู", "ูุชุฌู ุฑุง ุจุฑุงู ุจูุฑุณุช", "ูุณุฎู PDF ุฏุฑ ุจุงู"]
          },
          {
            name: "ุงุดุชุจุงู_ุฑุงุฌ",
            structure: "ุงุดุชุจุงู + ฺุฑุง ุงุดุชุจุงูู + ุนูุงุฑุถ + ุฑุงู ุญู ุตุญุญ + ุชูุตู ูุญุตูู",
            best_day: "ุดูุจู",
            best_time: "11:00-13:00",
            cta: ["ุชู ุงู ุงุดุชุจุงู ุฑุง ูโฺฉูุ", "ฺฉุงููุช ฺฉู", "ุจุฑุง ุฌููฺฏุฑ ุณู ฺฉู"]
          },
          {
            name: "ุชูุตู_ูุตู",
            structure: "ฺุงูุด ูุตู + ุฑุงูโุญู ุชุฎุตุต + ูุญุตููุงุช ุถุฑูุฑ + ูฺฉุงุช ูพุดฺฏุฑ",
            best_day: "ุฏูุดูุจู",
            best_time: "10:00-12:00",
            cta: ["ุขูุงุฏูโ ูุตู ุฌุฏุฏุ", "ฺฏุงุฏ ฺฉุงูู ุฏุฑ ุจุงู", "ฺู ูุญุตูู ุฏุงุฑุ"]
          },
          {
            name: "ููุงุณู_ูุญุตูู",
            structure: "2 ูุญุตูู ูุญุจูุจ + ููุงุณู ุตุงุฏูุงูู + ุจุฑุง ฺู ูพูุณุช + ููุช + ุชูุตู ููุง",
            best_day: "ุณูโุดูุจู",
            best_time: "15:00-17:00",
            cta: ["ฺฉุฏูู ุฑุง ุชุฑุฌุญ ูโุฏุ", "ุชุฌุฑุจู ุฏุงุฑ ุจฺฏู", "ููฺฉ ุฎุฑุฏ ุฏุฑ ุจุงู"]
          },
          {
            name: "ูฺฉุงุช_ุชุบุฐู_ุจุฑุง_ุฒุจุง",
            structure: "ุงุฑุชุจุงุท ุบุฐุง ู ูพูุณุช/ูู + ููุงุฏ ุบุฐุง ููุซุฑ + ุฑูุด ูุตุฑู + ุฒูุงู ูุชุฌู",
            best_day: "ูพูุฌุดูุจู",
            best_time: "12:00-14:00",
            cta: ["ุฑฺู ุบุฐุง ูโุฎูุงุ", "ุณู ฺฉู", "ุฏุชูููฺุณุช ุฏุงุฑู ุฏุฑ ุจุงู"]
          },
          {
            name: "ุฑูู_ุตุงุฏูุงูู",
            structure: "ุงูุชุธุงุฑ + ูุงูุนุช + ูุฒุงุง + ูุนุงุจ + ูุชุฌู ููุง + ููุช + ุงุฑุฒุดุด ุฑุง ุฏุงุฑูุ",
            best_day: "ุฌูุนู",
            best_time: "17:00-19:00",
            cta: ["ุณูุงู ุฏฺฏูโุง ุฏุงุฑุ", "ูโุฎูุง ุชุณุช ฺฉูุ", "ุชุฌุฑุจูโุงุช ุฑุง ุจฺฏู"]
          }
        ],
        hashtag_strategy: {
          primary: ["ุฒุจุง", "ุณูุงูุช_ูพูุณุช", "ูุฑุงูุจุช_ูพูุณุช"],
          secondary: ["ุขุฑุงุด", "ุจูุฏุงุดุช", "ุณูุงูุช"],
          niche: []
        }
      },
      "ุชฺฉููููฺ ู ุฏุฌุชุงู": {
        hooks: [
          "๐ ุงู ุงุจุฒุงุฑ {timeframe} ููุชุช ุฑุง ูโุจุฑุฏ",
          "๐ก ุชุฑููุฏ ฺฉู {percentage}% ููโุฏุงููุฏ",
          "โก {number} ุซุงูู ุจุฑุง {result}",
          "๐ฅ ุขูพุฏุช ุฌุฏุฏ ฺฉู ููู ุฑุง ุดูฺฉู ฺฉุฑุฏ",
          "๐ฏ ุจูุชุฑู {tool} ุจุฑุง {purpose}",
          "โ ุฏุงุฑ ุงุดุชุจุงู ุงุณุชูุงุฏู ูโฺฉู",
          "๐ค AI ุฌุงฺฏุฒู {job} ูโุดูุฏุ"
        ],
        content_types: [
          {
            name: "ุชุฑููุฏ_ุณุฑุน",
            structure: "ูุดฺฉู ุฑุงุฌ + ุชุฑููุฏ ูุงุดูุงุฎุชู + ุฏูู ุชุตูุฑ + ุฒูุงู ุตุฑููโุฌู",
            best_day: "ุฏูุดูุจู",
            best_time: "10:00-12:00",
            cta: ["ุณู ฺฉู ุจุฑุง ุงุณุชูุงุฏู", "ูโุฏููุณุชุ", "ุชุฑููุฏ ุฏฺฏู ูโุฎูุงุ"]
          },
          {
            name: "ููุงุณู_ุงุจุฒุงุฑ",
            structure: "ุงุจุฒุงุฑ A vs B + ุฌุฏูู ููุงุณู + ููุงุฑุฏ ุงุณุชูุงุฏู + ููุช + ุชูุตู",
            best_day: "ฺูุงุฑุดูุจู",
            best_time: "14:00-16:00",
            cta: ["ฺฉุฏูู ุฑุง ุงุณุชูุงุฏู ูโฺฉูุ", "ููฺฉ ุงุจุฒุงุฑูุง ุฏุฑ ุจุงู", "ุณูุงู ุฏุงุฑุ"]
          },
          {
            name: "ุขููุฒุด_ฺฏุงู_ุจู_ฺฏุงู",
            structure: "ูุฏู + ูพุดโูุงุฒูุง + ูุฑุงุญู ุนฺฉุณโุฏุงุฑ + ูฺฉุงุช ุฑูุน ุงุดฺฉุงู + ููุงุจุน",
            best_day: "ุดูุจู",
            best_time: "11:00-13:00",
            cta: ["ูุฏู ฺฉุงูู ุฏุฑ ูุชูุจ", "ุณู ฺฉู", "ุงูุชุญุงู ฺฉุฑุฏุ"]
          },
          {
            name: "ุงุฎุจุงุฑ_ู_ุชุฑูุฏ",
            structure: "ุฎุจุฑ + ุชุงุซุฑ ุจุฑ ฺฉุงุฑุจุฑุงู + ูุธุฑ ุชุฎุตุต + ูพุดโุจู ุขูุฏู",
            best_day: "ุณูโุดูุจู",
            best_time: "09:00-11:00",
            cta: ["ูุธุฑุช ฺูุ", "ุฏูุจุงู ูโฺฉูุ", "ุชุงุซุฑ ุฑู ุชูุ"]
          },
          {
            name: "ุฑูุน_ูุดฺฉู_ุฑุงุฌ",
            structure: "ุงุฑูุฑ/ูุดฺฉู + ุนูุช ุงุญุชูุงู + ุฑุงูโุญูโูุง ููฺฉู + ูพุดฺฏุฑ",
            best_day: "ูพูุฌุดูุจู",
            best_time: "15:00-17:00",
            cta: ["ฺฉุงุฑ ฺฉุฑุฏุ ุจฺฏู", "ูุดฺฉู ุฏฺฏู ุฏุงุฑุ", "ุณู ฺฉู"]
          },
          {
            name: "ุจูุชุฑู_ุงูพูฺฉุดู",
            structure: "ุฏุณุชูโุจูุฏ + 3-5 ุงูพ ุจุฑุชุฑ + ูฺฺฏโูุง + ููุช + ููฺฉ",
            best_day: "ฺฉุดูุจู",
            best_time: "18:00-20:00",
            cta: ["ูุตุจ ฺฉุฑุฏุ", "ูพุดููุงุฏ ุฏฺฏู ุฏุงุฑุ", "ููฺฉโูุง ุฏุฑ ุจุงู"]
          },
          {
            name: "ูพุดโุจู_ุขูุฏู",
            structure: "ุชุฑูุฏ ูุนู + ุชุญูู + ูพุดโุจู + ุขูุงุฏูโุณุงุฒ",
            best_day: "ุฌูุนู",
            best_time: "16:00-18:00",
            cta: ["ููุงููุ", "ุขูุฏู ฺุทูุฑูุ", "ูุธุฑุช ูููู"]
          }
        ],
        hashtag_strategy: {
          primary: ["ุชฺฉููููฺ", "ููุงูุฑ", "ุฏุฌุชุงู"],
          secondary: ["ุงูพูฺฉุดู", "ูุฑู_ุงูุฒุงุฑ", "ุงุจุฒุงุฑ"],
          niche: []
        }
      }
    };

    // ุงุถุงูู ฺฉุฑุฏู ุตูุงุน ุฏฺฏุฑ
    contentStrategies["ูพูุดุงฺฉ ู ูุฏ"] = {
      hooks: [
        "๐ ุงุณุชุงู ฺฉู ููู ูโูพุฑุณูุฏ ุงุฒ ฺฉุฌุงุณุช",
        "โจ ุชุฑฺฉุจ {item1} ุจุง {item2} = ฺฉุงูู",
        "๐ฅ ุชุฑูุฏ {season} ฺฉู ุจุงุฏ ุฏุงุดุชู ุจุงุด",
        "๐ ููฺฉุณ ุจู ูุธุฑ ุจุฑุณ ุจุง ุจูุฏุฌู ฺฉู",
        "๐ ุฑุงูููุง ุณุงุฒ ุจุฑุง {body_type}",
        "๐จ {number} ุฑูฺฏ ฺฉู ุจู ูู ูโุฎูุฑูุฏ",
        "โก ุงุฒ ุตุจุญ ุชุง ุดุจ ุจุง ฺฉ ูุจุงุณ"
      ],
      content_types: [
        {
          name: "ุงุณุชุงู_ุฑูุฒุงูู",
          structure: "ููฺฉ ฺฉุงูู + ุฌุฒุฆุงุช ูุฑ ูุทุนู + ุจุฑูุฏ + ููุช ุชูุฑุจ + ูููุนุช ููุงุณุจ",
          best_day: "ฺฉุดูุจู",
          best_time: "10:00-12:00",
          cta: ["ููฺฉ ูุญุตููุงุช ุฏุฑ ุจุงู", "ุฏูุณุช ุฏุงุฑุ", "ุชฺฏ ฺฉู ุงุณุชุงูุณุชโูุง"]
        },
        {
          name: "ุฑุงูููุง_ุชุฑฺฉุจ",
          structure: "ูุทุนู ูพุงู + 3-4 ุชุฑฺฉุจ ูุฎุชูู + ูฺฉุงุช ุณุช ฺฉุฑุฏู + ูููุนุชโูุง ุงุณุชูุงุฏู",
          best_day: "ฺูุงุฑุดูุจู",
          best_time: "19:00-21:00",
          cta: ["ุณู ฺฉู ุจุฑุง ุงููุงู", "ฺฉุฏูู ุฑุง ุฏูุณุช ุฏุงุฑุ", "ฺฉูฺฉุณูู ฺฉุงูู ุฏุฑ ุจุงู"]
        },
        {
          name: "ุชุฑูุฏ_ูุตู",
          structure: "ุชุฑูุฏ ุฌุฏุฏ + ฺฺฏููฺฏ ุงุณุชุงู + ุจุฑุง ฺู ุจุงุฏโุง + ูฺฉุงุช ุฎุฑุฏ",
          best_day: "ุดูุจู",
          best_time: "15:00-17:00",
          cta: ["ุฏูุจุงู ูโฺฉู ุงู ุชุฑูุฏ ุฑุงุ", "ูุฑูุดฺฏุงู ูุง ุฏุงุฑุฏ", "ููุฌูุฏ ูุญุฏูุฏ"]
        },
        {
          name: "ูุจู_ู_ุจุนุฏ_ุงุณุชุงู",
          structure: "ุงุณุชุงู ูุจู + ุชุญูู ูุดฺฉู + ุงุณุชุงู ุจุนุฏ + ูฺฉุงุช ฺฉูุฏ ุชุบุฑ",
          best_day: "ุณูโุดูุจู",
          best_time: "12:00-14:00",
          cta: ["ูุดุงูุฑู ุงุณุชุงู ุฑุงฺฏุงู", "ูโุฎูุง ุงุฏ ุจฺฏุฑุ", "ุฏูุฑู ุขููุงู ูุง"]
        },
        {
          name: "ุฑุงูููุง_ุณุงุฒ_ู_ูุช",
          structure: "ููุน ุจุฏู + ุณุงุฒ ููุงุณุจ + ูุช ุฏุฑุณุช + ุงุดุชุจุงูุงุช ุฑุงุฌ + ูุญุตููุงุช ูพุดููุงุฏ",
          best_day: "ุฏูุดูุจู",
          best_time: "11:00-13:00",
          cta: ["ุฑุงูููุง ฺฉุงูู ุฏุฑ ุจุงู", "ุณูุงู ุณุงุฒ ุฏุงุฑุ", "ุณู ฺฉู"]
        },
        {
          name: "ฺฉูพุณูู_ฺฏุงุฑุฏุฑูุจ",
          structure: "ุชุนุฏุงุฏ ูุทุนู + ูุฑ ูุทุนู ุจุง ุนฺฉุณ + ุชุนุฏุงุฏ ููฺฉ ููฺฉู + ูฺฉุงุช ุชุฑฺฉุจ",
          best_day: "ูพูุฌุดูุจู",
          best_time: "18:00-20:00",
          cta: ["ูโุฎูุง ฺฺฉโูุณุชุ", "ุณู ฺฉู", "ุฎุฑุฏ ุงุฒ ุจุงู"]
        },
        {
          name: "ุชุฎูู_ู_ฺฉุงูฺฉุดู_ุฌุฏุฏ",
          structure: "ูุญุตูู ุฌุฏุฏ + ุงุณุชูุฑ ูุญุตูู + ููุช ู ุชุฎูู + ูุญุฏูุฏุช ุฒูุงู/ุชุนุฏุงุฏ",
          best_day: "ุฌูุนู",
          best_time: "17:00-19:00",
          cta: ["ุฎุฑุฏ ุงูุงู", "ููุฌูุฏ ูุญุฏูุฏู", "ููฺฉ ูุณุชูู ุฏุฑ ุจุงู"]
        }
      ],
      hashtag_strategy: {
        primary: ["ูุฏ", "ูพูุดุงฺฉ", "ุงุณุชุงู"],
        secondary: ["ูุดู", "ูุจุงุณ", "ุณุช"],
        niche: []
      }
    };

    let currentStep = 0;
    let userAnswers = {};
    let generatedContent = [];
    let isLoggedIn = false;

    const questions = [
      {
        id: "industry",
        question: "ุตูุนุช ู ุญูุฒู ฺฉุงุฑ ุดูุง ฺฉุฏุงู ุงุณุชุ",
        options: ["ุตูุงุน ุบุฐุง", "ุณุงุฎุช ู ุณุงุฒ", "ุขููุฒุด ู ูุดุงูุฑู", "ุฒุจุง ู ุณูุงูุช", "ุชฺฉููููฺ ู ุฏุฌุชุงู", "ูพูุดุงฺฉ ู ูุฏ", "ููุฑ ู ุณุฑฺฏุฑู", "ุฎุฏูุงุช ูุงู", "ฺฏุฑุฏุดฺฏุฑ ู ูุณุงูุฑุช", "ุงููุงฺฉ ู ูุณุชุบูุงุช"]
      },
      {
        id: "business_type",
        question: "ููุน ฺฉุณุจโูฺฉุงุฑ ุดูุง ฺุณุชุ",
        options: ["ูุญุตูู ูุฒฺฉ", "ุฎุฏูุงุช ุญุถูุฑ", "ุฎุฏูุงุช ุขููุงู", "ูุญุชูุง ุฏุฌุชุงู", "ฺฉุงูู/ุฑุณุชูุฑุงู"]
      },
      {
        id: "audience",
        question: "ูุฎุงุทุจ ูุฏู ุงุตู ุดูุง ฺฉุณุชุ",
        options: ["ููุฌูุงูุงู 13-18", "ุฌูุงูุงู 18-25", "ุจุฒุฑฺฏุณุงูุงู 25-40", "ูุงูุณุงูุงู 40-60", "ฺฉุณุจโูฺฉุงุฑูุง B2B"]
      },
      {
        id: "audience_gender",
        question: "ุฌูุณุช ุบุงูุจ ูุฎุงุทุจ ุดูุงุ",
        options: ["ุฒูุงู", "ูุฑุฏุงู", "ูุฑ ุฏู ุจู ฺฉ ุงูุฏุงุฒู"]
      },
      {
        id: "content_goal",
        question: "ูุฏู ุงุตู ุงุฒ ูุญุชูุง ุงูุณุชุงฺฏุฑุงูุ",
        options: ["ุงูุฒุงุด ูุฑูุด ูุณุชูู", "ุณุงุฎุช ุจุฑูุฏ ู ุขฺฏุงู", "ุขููุฒุด ู ุงุนุชูุงุฏุณุงุฒ", "ุชุนุงูู ู ุฌุงูุนูโุณุงุฒ", "ุชุฑุงูฺฉ ุจู ูุจุณุงุช"]
      },
      {
        id: "brand_voice",
        question: "ุดุฎุตุช ุจุฑูุฏ ุดูุง ฺฺฏููู ุงุณุชุ",
        options: ["ุญุฑููโุง ู ุฑุณู", "ุฏูุณุชุงูู ู ุตูู", "ุดุงุฏ ู ุณุฑฺฏุฑูโฺฉููุฏู", "ุงููุงูโุจุฎุด ู ุงูฺฏุฒุด", "ููฺฉุณ ู ููุญุตุฑุจูุฑุฏ"]
      },
      {
        id: "pain_point",
        question: "ุจุฒุฑฺฏุชุฑู ฺุงูุด ูุฎุงุทุจ ุดูุง ฺุณุชุ",
        options: ["ฺฉูุจูุฏ ููุช", "ฺฉูุจูุฏ ุจูุฏุฌู", "ูุฏุงุดุชู ุงุทูุงุนุงุช ฺฉุงู", "ุชุฑุณ ุงุฒ ุงุดุชุจุงู", "ูุงุฒ ุจู ุฑุงูููุง"]
      },
      {
        id: "unique_value",
        question: "ุงุฑุฒุด ููุญุตุฑุจูุฑุฏ ุดูุง ฺุณุชุ",
        options: ["ฺฉูุช ุจโูุธุฑ", "ููุช ุฑูุงุจุช", "ุณุฑุนุช ู ุฑุงุญุช", "ุชุฎุตุต ู ุชุฌุฑุจู", "ููุขูุฑ ู ุฎูุงูุช"]
      },
      {
        id: "engagement_preference",
        question: "ฺู ููุน ุชุนุงูู ุฏูุณุช ุฏุงุฑุฏุ",
        options: ["ฺฉุงููุช ู ุจุญุซ", "ุฐุฎุฑู ู ุงุดุชุฑุงฺฉ", "ฺฉูฺฉ ู ุฎุฑุฏ", "ูพุงู ูุณุชูู", "ุชฺฏ ุฏูุณุชุงู"]
      },
      {
        id: "content_format",
        question: "ูุฑูุช ูุญุชูุง ูุญุจูุจ ุดูุงุ",
        options: ["ุชุตูุฑ ุชฺฉ", "ฺฉุงุฑูุณู ุขููุฒุด", "ูุฏู ฺฉูุชุงู", "ูุจู ู ุจุนุฏ", "ุงูููฺฏุฑุงูฺฉ"]
      }
    ];

    // ุชูุงุจุน ุจุฑุง ุฏุงูููุฏ ุชุตูุฑ
    function showLoading(message) {
      let loadingDiv = document.getElementById('loading-overlay');
      if (!loadingDiv) {
        loadingDiv = document.createElement('div');
        loadingDiv.id = 'loading-overlay';
        loadingDiv.className = 'loading-overlay';
        loadingDiv.innerHTML = `
          <div class="loading-spinner"></div>
          <p style="color: #1A1A1A; font-size: 18px; margin-top: 20px;">${message}</p>
        `;
        document.body.appendChild(loadingDiv);
      }
    }

    function hideLoading() {
      const loadingDiv = document.getElementById('loading-overlay');
      if (loadingDiv) {
        loadingDiv.style.opacity = '0';
        setTimeout(() => {
          if (loadingDiv.parentNode) {
            loadingDiv.parentNode.removeChild(loadingDiv);
          }
        }, 300);
      }
    }

    function showCopyNotification(message) {
      const notification = document.createElement('div');
      notification.className = 'copy-notification';
      notification.textContent = message;
      document.body.appendChild(notification);
      
      setTimeout(() => {
        notification.style.opacity = '0';
        notification.style.transform = 'translate(-50%, 20px)';
        setTimeout(() => {
          document.body.removeChild(notification);
        }, 300);
      }, 3000);
    }

    function createImageHTML() {
      const date = new Date().toLocaleDateString('fa-IR');
      const industry = userAnswers.industry || "ุตูุงุน ุบุฐุง";
      
      let imageHTML = `
        <div class="image-container">
          <div class="image-header">
            <div class="image-title">๐ ุชููู ูุญุชูุง ุงูุณุชุงฺฏุฑุงู</div>
            <div class="image-subtitle">ุตูุนุช: ${industry} | ุชุงุฑุฎ: ${date}</div>
            <div class="image-subtitle">ุณุงุฎุชู ุดุฏู ุจุง Koosha co</div>
          </div>
          
          <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 20px; direction: rtl; font-family: 'Vazirmatn', sans-serif;">
      `;
      
      generatedContent.forEach((content, index) => {
        if (index < 7) { // ููุท 7 ุฑูุฒ ููุชู
          imageHTML += `
            <div class="image-card">
              <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;">
                <div style="background: linear-gradient(45deg, #486878 25%, #7591a2 50%, #3e6fb4 75%, #00a0b0 100%); color: white; padding: 8px 16px; border-radius: 20px; font-size: 14px; font-weight: bold;">${content.day}</div>
                <div style="background: #e0f7fa; color: #006b75; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: bold;">${content.contentType}</div>
              </div>
              
              <div style="background: #f0f9ff; padding: 12px; border-radius: 12px; margin-bottom: 12px;">
                <div style="font-size: 11px; color: #486878; font-weight: bold; margin-bottom: 4px;">โฐ ุจูุชุฑู ุฒูุงู ุงูุชุดุงุฑ</div>
                <div style="font-size: 14px; color: #1A1A1A; font-weight: bold;">${content.bestTime}</div>
              </div>
              
              <div style="background: #f9f9f9; padding: 12px; border-radius: 12px; margin-bottom: 12px; border-right: 4px solid #00a0b0;">
                <div style="font-size: 12px; color: #006b75; font-weight: bold; margin-bottom: 6px;">๐ฅ ููฺฉ (Hook)</div>
                <div style="font-size: 14px; color: #1A1A1A; line-height: 1.4;">${content.hook}</div>
              </div>
              
              <div style="margin-bottom: 12px;">
                <div style="font-size: 11px; color: #666; margin-bottom: 4px; font-weight: bold;">๐ ุณุงุฎุชุงุฑ ูุญุชูุง:</div>
                <div style="font-size: 12px; color: #444; line-height: 1.5; white-space: pre-line;">${content.content.split('\n').slice(0, 3).join('\n')}...</div>
              </div>
              
              <div style="background: #050120; color: white; padding: 12px; border-radius: 12px; margin-bottom: 12px;">
                <div style="font-size: 11px; opacity: 0.9; margin-bottom: 4px;">๐ฌ Call To Action</div>
                <div style="font-size: 13px; font-weight: bold;">${content.cta}</div>
              </div>
              
              <div style="background: #f0f9ff; padding: 8px; border-radius: 8px; margin-bottom: 12px;">
                <div style="font-size: 10px; color: #1A1A1A; text-align: center;">
                  ๐ฑ ${content.format} | ๐ฏ ${content.engagementType}
                </div>
              </div>
              
              <div style="font-size: 11px; color: #486878; line-height: 1.6;">${content.hashtags.split(' ').slice(0, 5).join(' ')}</div>
            </div>
          `;
        }
      });
      
      imageHTML += `
          </div>
          
          <div style="margin-top: 30px; padding: 20px; background: #f9f9f9; border-radius: 16px; text-align: center;">
            <div style="font-size: 16px; color: #1A1A1A; font-weight: bold; margin-bottom: 10px;">๐ฏ ูฺฉุงุช ุทูุง ุจุฑุง ููููุช</div>
            <div style="display: flex; justify-content: space-between; gap: 10px; margin-top: 15px;">
              <div style="flex: 1; background: white; padding: 12px; border-radius: 12px; text-align: center;">
                <div style="font-size: 12px; color: #050120; font-weight: bold; margin-bottom: 5px;">โฐ ุฒูุงูโุจูุฏ</div>
                <div style="font-size: 10px; color: #666;">ุจู ุฒูุงู ูพุดููุงุฏ ูพุงุจูุฏ ุจุงุดุฏ</div>
              </div>
              <div style="flex: 1; background: white; padding: 12px; border-radius: 12px; text-align: center;">
                <div style="font-size: 12px; color: #006b75; font-weight: bold; margin-bottom: 5px;">๐ฌ ุชุนุงูู</div>
                <div style="font-size: 10px; color: #666;">ฑต ุฏููู ุงูู ุจู ฺฉุงููุชโูุง ูพุงุณุฎ ุฏูุฏ</div>
              </div>
              <div style="flex: 1; background: white; padding: 12px; border-radius: 12px; text-align: center;">
                <div style="font-size: 12px; color: #050120; font-weight: bold; margin-bottom: 5px;">๐ ุชุญูู</div>
                <div style="font-size: 10px; color: #666;">ุชููู ุฑุง ููุชฺฏ ุจุฑุฑุณ ู ุจูโุฑูุฒุฑุณุงู ฺฉูุฏ</div>
              </div>
            </div>
          </div>
          
          <div style="margin-top: 20px; padding-top: 20px; border-top: 2px solid #eee; text-align: center; color: #666; font-size: 12px;">
            ุจุฑุง ุงุทูุงุนุงุช ุจุดุชุฑ ุจู koosha.co ูุฑุงุฌุนู ฺฉูุฏ
          </div>
        </div>
      `;
      
      return imageHTML;
    }

    function downloadImage() {
      showLoading('ุฏุฑ ุญุงู ุงุฌุงุฏ ุชุตูุฑ ุงุฒ ูุชุงุฌ...');
      
      // ุงุฌุงุฏ ฺฉ div ูููุช ุจุฑุง ุชุตูุฑ
      const tempDiv = document.createElement('div');
      tempDiv.style.position = 'absolute';
      tempDiv.style.left = '-10000px';
      tempDiv.style.top = '0';
      tempDiv.style.width = '1000px';
      tempDiv.style.padding = '40px';
      tempDiv.style.background = '#ffffff';
      tempDiv.style.fontFamily = "'Vazirmatn', sans-serif";
      tempDiv.style.direction = 'rtl';
      
      // ุงุถุงูู ฺฉุฑุฏู HTML ุณุงุฎุชุงุฑููุฏ ุดุฏู
      tempDiv.innerHTML = createImageHTML();
      
      // ุงุถุงูู ฺฉุฑุฏู ุจู body
      document.body.appendChild(tempDiv);
      
      // ุตุจุฑ ฺฉุฑุฏู ฺฉู ุจุฑุง ููุฏ ุดุฏู ูููุชโูุง
      setTimeout(() => {
        html2canvas(tempDiv, {
          scale: 2,
          useCORS: true,
          backgroundColor: '#ffffff',
          logging: false,
          width: tempDiv.offsetWidth,
          height: tempDiv.offsetHeight,
          onclone: function(clonedDoc) {
            // ุงุทููุงู ุงุฒ ุงุนูุงู ุงุณุชุงูโูุง
            const clonedDiv = clonedDoc.querySelector('div[style*="left: -10000px"]');
            if (clonedDiv) {
              clonedDiv.style.fontFamily = "'Vazirmatn', sans-serif";
              clonedDiv.style.direction = 'rtl';
            }
          }
        }).then(canvas => {
          // ุงุฌุงุฏ ููฺฉ ุฏุงูููุฏ
          const link = document.createElement('a');
          const date = new Date().toLocaleDateString('fa-IR').replace(/\//g, '-');
          link.download = `ุชููู-ูุญุชูุง-ุงูุณุชุงฺฏุฑุงู-${date}.png`;
          link.href = canvas.toDataURL('image/png');
          
          // ุญุฐู div ูููุช
          document.body.removeChild(tempDiv);
          
          // ุชุฑฺฏุฑ ุฏุงูููุฏ
          document.body.appendChild(link);
          link.click();
          document.body.removeChild(link);
          
          hideLoading();
          showCopyNotification('ุชุตูุฑ ูุชุงุฌ ุจุง ููููุช ุฏุงูููุฏ ุดุฏ!');
        }).catch(error => {
          // ุญุฐู div ูููุช ุฏุฑ ุตูุฑุช ุฎุทุง
          if (tempDiv.parentNode) {
            document.body.removeChild(tempDiv);
          }
          hideLoading();
          console.error('Error generating image:', error);
          showCopyNotification('ุฎุทุง ุฏุฑ ุงุฌุงุฏ ุชุตูุฑ. ูุทูุงู ุฏูุจุงุฑู ุงูุชุญุงู ฺฉูุฏ.');
        });
      }, 1000);
    }

    function renderLogin() {
      const app = document.getElementById('app');
      app.innerHTML = `
        <div class="w-full h-screen flex items-center justify-center instagram-gradient">
          <div class="w-full max-w-md mx-4 p-8 rounded-3xl shadow-2xl fade-in" style="background-color: ${config.secondary_color};">
            <div class="text-center mb-8">
              <div class="inline-block px-8 py-4 rounded-full mb-6">
                <img 
                  src="./koosha-co-logo.png" 
                  alt="logo" 
                  class="w-20 h-20 rounded-full object-cover"
                >
              </div>
              <h2 class="font-bold mb-3" style="color: ${config.text_color}; font-size: ${config.font_size * 2}px; font-family: ${config.font_family}, sans-serif;">${config.app_title}</h2>
              <p style="color: ${config.text_color}; opacity: 0.7; font-size: ${config.font_size}px; font-family: ${config.font_family}, sans-serif;">ูุงุฑุฏ ุดูุฏ ุชุง ูุญุชูุง ุญุฑููโุง ุจุฑุง ุงูุณุชุงฺฏุฑุงู ุจุณุงุฒุฏ.</p>
            </div>
            <form id="loginForm" class="space-y-5">
              <div>
                <label for="password" class="block mb-2 font-semibold" style="color: ${config.text_color}; font-size: ${config.font_size}px; font-family: ${config.font_family}, sans-serif;">ุฑูุฒ ูุฑูุฏ</label>
                <input 
                  type="password" 
                  id="password" 
                  class="w-full px-5 py-4 rounded-xl border-2 focus:outline-none transition-all"
                  style="border-color: #050120; font-size: ${config.font_size}px; font-family: ${config.font_family}, sans-serif;"
                  placeholder="ุฑูุฒ ุนุจูุฑ ุฎูุฏ ุฑุง ูุงุฑุฏ ฺฉูุฏ"
                  required
                />
              </div>
              <div id="errorMessage" class="hidden p-4 rounded-xl text-center" style="background-color: #FEE2E2; color: #991B1B; font-size: ${config.font_size * 0.9}px; font-family: ${config.font_family}, sans-serif;">
                โ ุฑูุฒ ุนุจูุฑ ุงุดุชุจุงู ุงุณุช!
              </div>
              <button 
                type="submit" 
                class="w-full py-4 rounded-xl font-bold transition-all hover:opacity-90 instagram-gradient"
                style="color: ${config.secondary_color}; font-size: ${config.font_size * 1.2}px; font-family: ${config.font_family}, sans-serif;"
              >
                ูุฑูุฏ ุจู ุจุฑูุงูู
              </button>
            </form>
          </div>
        </div>
      `;

      document.getElementById('loginForm').addEventListener('submit', (e) => {
        e.preventDefault();
        const password = document.getElementById('password').value;
        const errorMessage = document.getElementById('errorMessage');
        
        if (password === config.login_password) {
          isLoggedIn = true;
          errorMessage.classList.add('hidden');
          renderQuestionnaire();
        } else {
          errorMessage.classList.remove('hidden');
        }
      });
    }

    function renderQuestionnaire() {
      const app = document.getElementById('app');
      const currentQuestion = questions[currentStep];
      const progress = ((currentStep + 1) / questions.length) * 100;

      app.innerHTML = `
        <div class="w-full min-h-full" style="background-color: ${config.background_color};">
          <div class="w-full max-w-5xl mx-auto px-4 py-8">
            <div class="mb-8">
              <div class="flex items-center justify-between mb-6">
                <div class="inline-flex items-center gap-4 px-6 py-3 rounded-full instagram-gradient">
                  <img 
                    src="./koosha-co-logo.png" 
                    alt="logo" 
                    class="w-16 h-16 rounded-full object-cover"
                  >
                  <span 
                    class="font-bold"
                    style="
                      color: ${config.secondary_color};
                      font-size: ${config.font_size * 1.1}px;
                      font-family: ${config.font_family}, sans-serif;
                    "
                  >
                    ${config.logo_text}
                  </span>
                </div>
                <span class="font-semibold" style="color: ${config.text_color}; opacity: 0.8; font-size: ${config.font_size}px; font-family: ${config.font_family}, sans-serif;">ุณูุงู ${currentStep + 1} ุงุฒ ${questions.length}</span>
              </div>
              <div class="w-full h-3 rounded-full overflow-hidden" style="background-color: ${config.secondary_color};">
                <div class="h-full transition-all duration-500 rounded-full instagram-gradient" style="width: ${progress}%;"></div>
              </div>
            </div>

            <div class="p-10 rounded-3xl shadow-2xl fade-in" style="background-color: ${config.secondary_color};">
              <h2 class="mb-10 font-bold" style="color: ${config.text_color}; font-size: ${config.font_size * 2}px; font-family: ${config.font_family}, sans-serif;">${currentQuestion.question}</h2>
              <div class="grid grid-cols-1 md:grid-cols-2 gap-5">
                ${currentQuestion.options.map((option, index) => `
                  <button 
                    onclick="selectOption('${currentQuestion.id}', '${option}')"
                    class="p-5 rounded-2xl text-right transition-all hover:shadow-xl relative overflow-hidden group"
                    style="border: 3px solid #050120; color: ${config.text_color}; font-size: ${config.font_size * 1.1}px; font-family: ${config.font_family}, sans-serif;"
                  >
                    <div class="absolute inset-0 instagram-gradient opacity-0 group-hover:opacity-10 transition-opacity"></div>
                    <span class="inline-block w-10 h-10 rounded-full text-center leading-10 ml-3 font-bold relative z-10" style="background-color: #050120; color: ${config.secondary_color}; font-size: ${config.font_size}px;">${index + 1}</span>
                    <span class="relative z-10">${option}</span>
                  </button>
                `).join('')}
              </div>

              ${currentStep > 0 ? `
                <button 
                  onclick="previousStep()"
                  class="mt-8 px-8 py-4 rounded-xl transition-all hover:shadow-lg"
                  style="border: 3px solid #050120; color: #050120; font-size: ${config.font_size * 1.1}px; font-family: ${config.font_family}, sans-serif; font-weight: 600;"
                >
                   ุจุงุฒฺฏุดุช
                </button>
              ` : ''}
            </div>
          </div>
        </div>
      `;
    }

    function selectOption(questionId, answer) {
      userAnswers[questionId] = answer;
      
      if (currentStep < questions.length - 1) {
        currentStep++;
        renderQuestionnaire();
      } else {
        generateContent();
        renderResults();
      }
    }

    function previousStep() {
      if (currentStep > 0) {
        currentStep--;
        renderQuestionnaire();
      }
    }

    function generateContent() {
      const industry = userAnswers.industry || "ุตูุงุน ุบุฐุง";
      const strategy = contentStrategies[industry];
      
      if (!strategy) return;

      generatedContent = strategy.content_types.map((contentType, index) => {
        const hook = strategy.hooks[index % strategy.hooks.length];
        const randomNumber = Math.floor(Math.random() * 5) + 3;
        const randomPercentage = Math.floor(Math.random() * 30) + 70;
        
        let filledHook = hook
          .replace('{number}', randomNumber)
          .replace('{percentage}', randomPercentage)
          .replace('{topic}', userAnswers.business_type || 'ฺฉุณุจโูฺฉุงุฑ')
          .replace('{target_audience}', userAnswers.audience || 'ูุฎุงุทุจุงู')
          .replace('{goal}', userAnswers.content_goal || 'ููููุช')
          .replace('{result}', 'ูุชุฌูโุง ุนุงู');

        const mainContent = `
          ${contentType.structure}
          
          ๐ก ูฺฉุชู ุงุณุชุฑุงุชฺฺฉ: ุจุง ุชูุฌู ุจู ุงูฺฉู ูุฎุงุทุจุงู ุดูุง ${userAnswers.audience} ูุณุชูุฏ ู ูุฏูุชุงู ${userAnswers.content_goal} ุงุณุชุ ุงู ูุญุชูุง ุจุงุฏ ${userAnswers.brand_voice} ุจุงุดุฏ.
          
          ๐ฏ ููฺฉูุณ: ${userAnswers.pain_point} ูุฎุงุทุจุงู ุฑุง ุญู ฺฉูุฏ ุจุง ุชุงฺฉุฏ ุจุฑ ${userAnswers.unique_value} ุดูุง.
        `;

        const ctaOptions = contentType.cta;
        const selectedCta = ctaOptions[Math.floor(Math.random() * ctaOptions.length)];

        const hashtags = [
          ...strategy.hashtag_strategy.primary,
          ...strategy.hashtag_strategy.secondary,
          userAnswers.business_type?.replace(/\s+/g, '_'),
          userAnswers.content_goal?.replace(/\s+/g, '_'),
        ].filter(Boolean).slice(0, 10).map(tag => `#${tag}`).join(' ');

        return {
          day: ["ุดูุจู", "ฺฉุดูุจู", "ุฏูุดูุจู", "ุณูโุดูุจู", "ฺูุงุฑุดูุจู", "ูพูุฌุดูุจู", "ุฌูุนู"][index],
          contentType: contentType.name,
          bestTime: contentType.best_time,
          hook: filledHook,
          content: mainContent,
          cta: selectedCta,
          hashtags: hashtags,
          format: userAnswers.content_format || "ุชุตูุฑ ุชฺฉ",
          engagementType: userAnswers.engagement_preference || "ฺฉุงููุช ู ุจุญุซ"
        };
      });
    }

    function renderResults() {
      const app = document.getElementById('app');
      
      app.innerHTML = `
        <div class="w-full min-h-full" style="background-color: ${config.background_color};">
          <div class="w-full max-w-7xl mx-auto px-4 py-8">
           <div class="mb-8 p-6 rounded-3xl shadow-lg flex items-center justify-center flex-wrap gap-4"
     style="background: linear-gradient(45deg, #486878 25%, #7591a2 50%, #3e6fb4 75%, #00a0b0 100%);">

              <div style=" display: flex;
    justify-content: center;
    align-items: center;">
                <h1 class="font-medium mb-2" style="text-align: center; color: ${config.secondary_color}; font-size: ${config.font_size * 2}px; font-family: ${config.font_family}, sans-serif;"> ุชููู ูุญุชูุง ููุชฺฏ ุดูุง ุขูุงุฏุณุช. </h1>
              </div>
              <button 
                onclick="downloadImage()"
                class="px-6 py-3 rounded-xl font-bold transition-all hover:shadow-lg flex items-center gap-2"
              style="
    background: ${config.secondary_color};
    color: #050120;
    font-size: ${config.font_size * 1.1}px;
    font-family: ${config.font_family}, sans-serif;
    border: 2px solid #050120;
    display: flex;
    justify-content: center;
    align-items: center;
  "
              >
                <span style="text-align: center;">๐ท ุฏุงูููุฏ ุชุตูุฑ</span>
              </button>
            </div>

            <div id="results-content">
              <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                ${generatedContent.map((content, index) => `
                  <div class="p-6 rounded-3xl shadow-xl card-hover fade-in" style="background-color: ${config.secondary_color}; animation-delay: ${index * 0.1}s; border: 2px solid #050120;">
                    <div class="flex items-center justify-between mb-5">
                      <span class="px-5 py-2 rounded-full font-bold" style="background: linear-gradient(45deg, #486878 25%, #7591a2 50%, #3e6fb4 75%, #00a0b0 100%); color: ${config.secondary_color}; font-size: ${config.font_size}px; font-family: ${config.font_family}, sans-serif;">${content.day}</span>
                      <span class="px-4 py-1 rounded-full text-xs font-semibold" style="background-color: ${config.background_color}; color: ${config.text_color}; font-size: ${config.font_size * 0.8}px; font-family: ${config.font_family}, sans-serif;">${content.contentType}</span>
                    </div>
                    
                    <div class="mb-4 p-4 rounded-xl" style="background: linear-gradient(45deg, #486878 25%, #7591a2 50%, #3e6fb4 75%, #00a0b0 100%);15, ${config.accent_color}15);">
                      <p class="text-xs font-bold mb-1 flex items-center gap-2" style="color: #050120; font-size: ${config.font_size * 0.85}px; font-family: ${config.font_family}, sans-serif;">
                        โฐ ุจูุชุฑู ุฒูุงู ุงูุชุดุงุฑ โฐ
                      </p>
                      <p class="font-bold" style="color: ${config.text_color}; font-size: ${config.font_size * 0.9}px; font-family: ${config.font_family}, sans-serif;">${content.bestTime}</p>
                    </div>

                    <div class="mb-4 p-4 rounded-xl" style="background-color: ${config.background_color};">
                      <p class="text-sm font-bold mb-2 flex items-center gap-2" style="color: ${config.accent_color}; font-size: ${config.font_size * 0.9}px; font-family: ${config.font_family}, sans-serif;">
                        ๐ฅ ููฺฉ (Hook)
                      </p>
                      <p class="font-semibold" style="color: ${config.text_color}; font-size: ${config.font_size}px; font-family: ${config.font_family}, sans-serif;">${content.hook}</p>
                    </div>
                    
                    <div class="mb-4">
                      <p class="text-xs font-bold mb-2" style="color: ${config.text_color}; opacity: 0.7; font-size: ${config.font_size * 0.8}px; font-family: ${config.font_family}, sans-serif;">๐ ุณุงุฎุชุงุฑ ูุญุชูุง:</p>
                      <p class="leading-relaxed" style="color: ${config.text_color}; opacity: 0.85; font-size: ${config.font_size * 0.85}px; line-height: 1.8; font-family: ${config.font_family}, sans-serif; white-space: pre-line;">${content.content}</p>
                    </div>

                    <div class="mb-4 p-4 rounded-xl" style="background-color: #050120; opacity: 0.95;">
                      <p class="text-xs font-bold mb-1" style="color: ${config.secondary_color}; font-size: ${config.font_size * 0.8}px; font-family: ${config.font_family}, sans-serif;">๐ฌ Call To Action</p>
                      <p class="font-bold" style="color: ${config.secondary_color}; font-size: ${config.font_size}px; font-family: ${config.font_family}, sans-serif;">${content.cta}</p>
                    </div>

                    <div class="mb-4 p-3 rounded-xl" style="background-color: ${config.background_color};">
                      <p class="text-xs font-bold mb-2" style="color: ${config.text_color}; font-size: ${config.font_size * 0.75}px; font-family: ${config.font_family}, sans-serif;">
                        ๐ฑ ูุฑูุช: ${content.format} | ๐ฏ ุชุนุงูู: ${content.engagementType}
                      </p>
                    </div>
                    
                    <p class="text-sm leading-relaxed" style="color: #050120; font-size: ${config.font_size * 0.85}px; font-family: ${config.font_family}, sans-serif; line-height: 1.6;">${content.hashtags}</p>
                  </div>
                `).join('')}
              </div>

              <div class="mt-12 p-8 rounded-3xl shadow-xl text-center" style="background: linear-gradient(135deg, ${config.secondary_color}, ${config.background_color});">
                <h3 class="font-bold mb-4" style="color: ${config.text_color}; font-size: ${config.font_size * 1.5}px; font-family: ${config.font_family}, sans-serif;">๐ฏ ูฺฉุงุช ุทูุง ุจุฑุง ููููุช ุฏุฑ ุงูุณุชุงฺฏุฑุงู ๐ฏ</h3>
                <div class="grid grid-cols-1 md:grid-cols-3 gap-4 mb-6">
                  <div class="p-4 rounded-xl" style="background-color: ${config.secondary_color};">
                    <p class="font-bold mb-2" style="color: #050120; font-size: ${config.font_size}px; font-family: ${config.font_family}, sans-serif;">โฐ ุฒูุงูโุจูุฏ</p>
                    <p style="color: ${config.text_color}; opacity: 0.8; font-size: ${config.font_size * 0.85}px; font-family: ${config.font_family}, sans-serif;">ุจู ุฒูุงู ูพุดููุงุฏ ูพุงุจูุฏ ุจุงุดุฏ</p>
                  </div>
                  <div class="p-4 rounded-xl" style="background-color: ${config.secondary_color};">
                    <p class="font-bold mb-2" style="color: ${config.accent_color}; font-size: ${config.font_size}px; font-family: ${config.font_family}, sans-serif;">๐ฌ ุชุนุงูู</p>
                    <p style="color: ${config.text_color}; opacity: 0.8; font-size: ${config.font_size * 0.85}px; font-family: ${config.font_family}, sans-serif;">ฑต ุฏููู ุงูู ุจู ฺฉุงููุชโูุง ูพุงุณุฎ ุฏูุฏ</p>
                  </div>
                  <div class="p-4 rounded-xl" style="background-color: ${config.secondary_color};">
                    <p class="font-bold mb-2" style="color: #050120; font-size: ${config.font_size}px; font-family: ${config.font_family}, sans-serif;">๐ ุชุญูู</p>
                    <p style="color: ${config.text_color}; opacity: 0.8; font-size: ${config.font_size * 0.85}px; font-family: ${config.font_family}, sans-serif;">ุชููู ููุชุฎุจ ุฑุง ุจุง ุขูุงูุฒ-ุขูพุฏุช Koosha co ููุชฺฏ ุจุฑุฑุณ ฺฉูุฏ</p>
                  </div>
                </div>
                
                <div class="flex flex-wrap justify-center gap-4 mt-8">
                  <button 
                    onclick="downloadImage()"
                    class="px-8 py-4 rounded-xl transition-all hover:shadow-xl flex items-center gap-2 font-bold"
                    style="background: linear-gradient(45deg, #486878 25%, #7591a2 50%, #3e6fb4 75%, #00a0b0 100%); color: ${config.secondary_color}; font-size: ${config.font_size * 1.1}px; font-family: ${config.font_family}, sans-serif;"
                  >
                    ๐ท ุฏุงูููุฏ ุชุตูุฑ ูุชุงุฌ
                  </button>
                  
                  <button 
                    onclick="startOver()"
                    class="px-8 py-4 rounded-xl transition-all hover:shadow-xl"
                    style="border: 3px solid #050120; color: #050120; font-size: ${config.font_size * 1.1}px; font-family: ${config.font_family}, sans-serif; font-weight: 700;"
                  >
                    ๐ ุดุฑูุน ูุฌุฏุฏ ุจุง ูพุงุณุฎโูุง ุฌุฏุฏ
                  </button>
                </div>
              </div>
            </div>
          </div>
        </div>
      `;
    }

    function startOver() {
      currentStep = 0;
      userAnswers = {};
      generatedContent = [];
      isLoggedIn = false;
      renderLogin();
    }

    // ุงุถุงูู ฺฉุฑุฏู ุชูุงุจุน ุจู window ุจุฑุง ุฏุณุชุฑุณ ุงุฒ HTML
    window.selectOption = selectOption;
    window.previousStep = previousStep;
    window.startOver = startOver;
    window.downloadImage = downloadImage;

    async function onConfigChange(newConfig) {
      Object.assign(config, newConfig);
      
      if (!isLoggedIn) {
        renderLogin();
      } else if (generatedContent.length > 0) {
        renderResults();
      } else {
        renderQuestionnaire();
      }
    }

    const capabilities = {
      recolorables: [
        {
          get: () => config.background_color || defaultConfig.background_color,
          set: (value) => {
            config.background_color = value;
            window.elementSdk.setConfig({ background_color: value });
          }
        },
        {
          get: () => config.secondary_color || defaultConfig.secondary_color,
          set: (value) => {
            config.secondary_color = value;
            window.elementSdk.setConfig({ secondary_color: value });
          }
        },
        {
          get: () => config.text_color || defaultConfig.text_color,
          set: (value) => {
            config.text_color = value;
            window.elementSdk.setConfig({ text_color: value });
          }
        },
        {
          get: () => config.primary_color || defaultConfig.primary_color,
          set: (value) => {
            config.primary_color = value;
            window.elementSdk.setConfig({ primary_color: value });
          }
        },
        {
          get: () => config.accent_color || defaultConfig.accent_color,
          set: (value) => {
            config.accent_color = value;
            window.elementSdk.setConfig({ accent_color: value });
          }
        }
      ],
      borderables: [],
      fontEditable: {
        get: () => config.font_family || defaultConfig.font_family,
        set: (value) => {
          config.font_family = value;
          window.elementSdk.setConfig({ font_family: value });
        }
      },
      fontSizeable: {
        get: () => config.font_size || defaultConfig.font_size,
        set: (value) => {
          config.font_size = value;
          window.elementSdk.setConfig({ font_size: value });
        }
      }
    };

    if (window.elementSdk) {
      window.elementSdk.init({
        defaultConfig,
        onConfigChange,
        mapToCapabilities: () => capabilities,
        mapToEditPanelValues: (cfg) => new Map([
          ["app_title", cfg.app_title || defaultConfig.app_title],
          ["login_password", cfg.login_password || defaultConfig.login_password],
          ["logo_text", cfg.logo_text || defaultConfig.logo_text]
        ])
      });
    }

    renderLogin();
  </script>
  <script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'9a7a76c74619d24e',t:'MTc2NDY3NDczMC4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script>
</body>
</html>
